<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de personnalité</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f7fc;
            margin: 0;
            padding: 0;
        }
        .container {
            width: 80%;
            max-width: 600px;
            margin: 50px auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .question {
            margin-bottom: 20px;
        }
        .question label {
            display: block;
            margin-bottom: 10px;
            font-size: 18px;
            color: #555;
        }
        .question input[type="radio"] {
            margin-right: 10px;
        }
        .buttons {
            display: flex;
            justify-content: space-between;
        }
        .button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }
        .button:hover {
            background-color: #45a049;
        }
        .result {
            margin-top: 20px;
            text-align: center;
            font-weight: bold;
            color: #333;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Test de personnalité</h1>

        <div id="questionContainer">
            <!-- Question content will be injected here -->
        </div>

        <div class="buttons">
            <button id="nextBtn" class="button" onclick="navigate(1)">Suivant</button>
        </div>
    </div>

    <script>
        // Questions and answers
        const questions = [
            {
                text: "Préférez-vous travailler seul ou en équipe ?",
                choices: ["Seul", "En équipe", "Un mix des deux"],
                name: "q1"
            },
            {
                text: "Quand vous êtes face à un problème difficile, vous agissez :",
                choices: ["Logiquement", "Émotionnellement", "Un mélange des deux", "En demandant conseil"],
                name: "q2"
            },
            {
                text: "Préférez-vous prendre des décisions rapidement ou après réflexion ?",
                choices: ["Rapidement", "Après réflexion"],
                name: "q3"
            },
            {
                text: "Quand vous êtes stressé, vous :",
                choices: ["Cherchez à régler le problème immédiatement", "Prenez du recul pour réfléchir avant d'agir"],
                name: "q4"
            },
            {
                text: "Vous préférez les environnements :",
                choices: ["Calmes et ordonnés", "Dynamiques et stimulants"],
                name: "q5"
            }
        ];

        let currentQuestion = parseInt(window.location.search.split('q=')[1]) || 0;
        let answers = [];

        // Tableau de réponses personnalisées
        const responses = {
            "AAAAA": "Vous êtes une personne très logique et indépendante.",
            "AAAAB": "Vous êtes pratique, mais vous aimez aussi réfléchir avant d'agir.",
            "AAABA": "Vous êtes calme et réfléchi, mais préférez travailler seul.",
            "AAABB": "Vous aimez prendre des décisions rapidement tout en restant calme.",
            // Ajoutez toutes les autres réponses ici jusqu'à "ZZZZZ"
        };

        function renderQuestion() {
            const question = questions[currentQuestion];
            const questionContainer = document.getElementById('questionContainer');
            questionContainer.innerHTML = `
                <div class="question">
                    <label>${question.text}</label>
                    ${question.choices.map((choice, index) => `
                        <div>
                            <input type="radio" name="${question.name}" value="${String.fromCharCode(65 + index)}" onclick="saveAnswer('${String.fromCharCode(65 + index)}')"> ${choice}
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function saveAnswer(answer) {
            answers[currentQuestion] = answer;
            document.getElementById('nextBtn').disabled = false;
        }

        function navigate(direction) {
            // Go to next question
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                window.location.href = `?q=${currentQuestion}`; // Change URL to the next question
            } else {
                showResult();
            }
        }

        function showResult() {
            const path = answers.join('');  // Crée une clé comme 'AAAAA' en fonction des réponses
            const resultContainer = document.createElement('div');
            resultContainer.className = 'result';

            // Récupère la réponse personnalisée ou un message par défaut
            resultContainer.innerHTML = responses[path] || "Votre personnalité est unique et difficile à définir simplement.";

            // Affiche le résultat
            document.body.appendChild(resultContainer);
        }

        // Initial call to render the current question
        renderQuestion();
    </script>

</body>
</html>
