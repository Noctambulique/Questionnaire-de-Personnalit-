<script>
    // Questions and answers
    const questions = [
        {
            text: "Préférez-vous travailler seul ou en équipe ?",
            choices: ["Seul", "En équipe", "Un mix des deux"],
            name: "q1"
        },
        {
            text: "Quand vous êtes face à un problème difficile, vous agissez :",
            choices: ["Logiquement", "Émotionnellement", "Un mélange des deux"],
            name: "q2"
        },
        {
            text: "Préférez-vous prendre des décisions rapidement ou après réflexion ?",
            choices: ["Rapidement", "Après réflexion"],
            name: "q3"
        },
        {
            text: "Quand vous êtes stressé, vous :",
            choices: ["Cherchez à régler le problème immédiatement", "Prenez du recul pour réfléchir avant d'agir"],
            name: "q4"
        },
        {
            text: "Vous préférez les environnements :",
            choices: ["Calmes et ordonnés", "Dynamiques et stimulants"],
            name: "q5"
        }
    ];

    let currentQuestion = parseInt(window.location.search.split('q=')[1]) || 0;
    let answers = [];
    const nextButton = document.getElementById('nextBtn');
    nextButton.disabled = true; // Désactive le bouton par défaut

    // Réponses personnalisées
    const responses = {
        "AAAAA": "Vous êtes une personne très logique et indépendante.",
        "AAAAB": "Vous êtes pratique, mais vous aimez aussi réfléchir avant d'agir.",
        "AAABA": "Vous êtes calme et réfléchi, mais préférez travailler seul.",
        "AAABB": "Vous aimez prendre des décisions rapidement tout en restant calme.",
        // Ajoutez toutes les autres réponses ici jusqu'à "ZZZZZ"
    };

    function renderQuestion() {
        const question = questions[currentQuestion];
        const questionContainer = document.getElementById('questionContainer');
        questionContainer.innerHTML = `
            <div class="question">
                <label>${question.text}</label>
                ${question.choices.map((choice, index) => `
                    <div>
                        <input type="radio" name="${question.name}" value="${String.fromCharCode(65 + index)}" onclick="saveAnswer('${String.fromCharCode(65 + index)}')"> ${choice}
                    </div>
                `).join('')}
            </div>
        `;
    }

    function saveAnswer(answer) {
        answers[currentQuestion] = answer;
        nextButton.disabled = false; // Active le bouton "Suivant"
    }

    function navigate(direction) {
        if (currentQuestion < questions.length - 1) {
            currentQuestion++;
            window.location.href = `?q=${currentQuestion}`; // Redirige vers la question suivante
        } else {
            showResult();
        }
    }

    function showResult() {
        const path = answers.join('');  // Construit une clé comme 'AAAAA' à partir des réponses
        const resultContainer = document.createElement('div');
        resultContainer.className = 'result';

        // Récupère la réponse personnalisée ou un message par défaut
        resultContainer.innerHTML = responses[path] || "Votre personnalité est unique et difficile à définir simplement.";

        // Affiche le résultat
        document.body.innerHTML = ''; // Nettoie la page
        document.body.appendChild(resultContainer); // Affiche uniquement le résultat
    }

    // Initial call to render the current question
    renderQuestion();
</script>
